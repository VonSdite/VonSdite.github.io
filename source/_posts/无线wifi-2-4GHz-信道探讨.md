---
title: 无线wifi 2.4GHz 信道探讨
toc: true
comments: true
abbrlink: 6d6f15c3
date: 2019-02-03 19:10:06
categories:
  - 网络配置
tags:
  - 网络配置
---

# 前言
目前主流的无线WIFI网络设备不管是`802.11b/g`还是`802.11b/g/n`一般都支持13个信道。它们的中心频率虽然不同, 但是因为都占据一定的频率范围, 所以会有一些相互重叠的情况。

下面是常用的 2.4GHz(=2400MHz)频带的信道划分, 表中只列出信道的中心频率。
信道 | 中心频率
---|-----
1 | 2412MHz 
2 | 2417MHz 
3 | 2422MHz 
4 | 2427MHz 
5 | 2432MHz 
6 | 2437MHz 
7 | 2442MHz 
8 | 2447MHz
9 | 2452MHz
10 | 2457MHz
11 | 2462MHz
12 | 2467MHz
13 | 2472MHz

<!-- more -->

信道也称作通道(Channel)、频段, 是以无线信号(电磁波)作为传输载体的数据信号传送通道。无线网络(路由器、AP热点、电脑无线网卡)可在多个信道上运行。在无线信号覆盖范围内的各种无线网络设备应该尽量使用不同的信道, 以避免信号之间的干扰。

实际一共有14个信道, 但第14信道一般不用。每个信道的有效宽度是`20MHz`, 另外还有2MHz的强制隔离频带(类似于公路上的隔离带)。
即, 对于中心频率为 2412 MHz 的1信道, 其频率范围为 2401~2423MHz。

当然, 实际的电磁波谱使用规定因国家不同而有所差异, 以上只是举个例子。而且, `20MHz`的信道宽度也只是“有效带宽”, 因为实际上一个信道在其中心频率两侧有很宽的延展, 但是超过10MHz以外的部分强度很弱, 基本无用。

从下图很容易看到其中 **1、6、11** 这三个信道(红色标记)之间是**完全没有交叠**的, 也就是人们常说的三个不互相重叠的信道。每个信道`20MHz`带宽。图中也很容易看清楚其他各信道之间频谱重叠的情况。

另外, 如果设备支持, 除**1、6、11**三个一组互不干扰的信道外, 还有**2、7、12**; **3、8、13**; **4、9、14**三组互不干扰的信道。

![](/images/2019-02-03-19-14-31.png)

现在新式的无线路由器都可以自动跳转信道了, 但是巧妇难为无米之炊, 设备多了, 还是会遭遇干扰。所以很多设备开始使用 5GHz 附近(5.15~5.85GHz)的频带。该频段在划分时, 每个信道与相邻信道都不发生重叠, 因而干扰较小。但是也有缺点: 5GHz 频率较高, 在空间传输时衰减较为严重, 因而如果距离稍远, 性能会严重降低。

# 为什么WiFi自动信道选到的信道多数在1/6/11
![](/images/2019-02-03-19-21-33.png)

从图中, 我们很直观的看到, 在一个典型的应用环境下, 所有厂家的设备仿佛被某种力量牵引着, 把设备的信道都设在了1、6、11这三个信道。这是为什么呢？因为, 在WiFi的世界中, 有一条原则雷打不动, 那就是**在信道范围内, 同一时刻, 只有一台设备可以发信号, 其他设备都需要等待**。

我们知道, WiFi的原理是把数据载到电磁波上, 通过一定的算法来识别。那么, 问题来了, 如果空气中有两个设备同时发出WiFi数据, 他们所在的信道又一样, 这**两束电磁波在空气中就会叠加(叠加原理), 从而变形**, 变成无法识别的错误数据。

`结论一: 因为WiFi是电磁波, 所以在同一个频率范围内, 某个时刻只能有一台设备工作, 否则就会出错`。

既然有上述特性, 那么, 靠大家自觉是不现实的。所以, WiFi的协议中给出了严谨的算法, 来保证遵守 WiFi 802.11协议的设备, 能够在相同的频率范围, 不冲突, 大家有秩序排队干活。因此, 为了让各个芯片厂家有据可循, WiFi协议对频率与信道的对 应做了规定, 举例来说: 1信道的中心频率是2.412GHz, 信道有效带宽是20MHz, 实际带宽是22MHz, 其中的2MHz带宽是隔离带, 防止某些厂商能力不足, 精度无法控制的刚刚好, 留点余量。如何直观的理解这个约定呢？如下所示: 
![](/images/2019-02-03-19-22-02.png)

从图中, 我们可以直观的看到, 每个信道的中心频率是多少, 它所能够覆盖的范围是多少。

简单解释有效频率的概念, 电磁波之所以能够传输数据, 是因为波的振幅, 频率等信息可以唯一确定一个矢量, 只要我们对这个矢量进行编解码, 就可以对应010101数据串。与网线传输数据类似, 网线传输数据时, 高电压表示0, 低电压表示1, 所以, 在网线上传输的数据, 就是一堆的高低高低高 低高低电压组合。用电磁波来传输数据有带宽的概念, 即1束波可以传1位数据, 还是2位数据, 还是3位数据, 是有讲究的。通常, 我们把这束波叫子载波, 一个子载波多了可以传3位数据, 即(001,110,010, 等等), 少了只能传1位数据, 如(1或者0), 那么, 同时能发出多少束子载波由有效带宽决定。在WiFi的协议中约定有效带宽是20MHz, 802.11N协议中, 有一种有效带宽是40MHz, 802.11AC协议中, 有一种有效带宽是80MHz。 可以直观的理解, **有效带宽越宽, 单位时间传输的数据量就越大**。

回到本话题, 我们知道有了有效带宽是20MHz, 那就要知道有效信道。所谓**有效信道是工作时, 互不干扰的有效带宽所对应的的中心频率**, 从上图可以看出, 有效信道的组合也就3种。

## 原因
那么, 为什么业内都要有用1、6、11这种组合呢, 为啥不用其他两种组合, 中国支持1-13个信道; 欧洲支持1-13信道; 美国支持1-11信道; 日本支持1-14信道; 总的来看, 子集是1-11信道。因此, 把设备的自动信道设为1-6-11这三个信道, 是即安全, 又普遍且皆大欢喜的作法。

`结论二: 信道设为1、6、11由有效信道而来, 并且, 从各个国家的法规出发, 选择1、6、11最稳妥。`

## 生活误区
由此可以引出一个我们日常生活中常见的误区: 
小王问: “小明, 为啥我的路由器, 朋友的手机搜索不到呢？是不是我家路由器挫啊...”
答案: 查了一下信道, 发现他设了手动信道13, 然后先不问为什么设13, 直接告诉他, 小王啊, 你把信道设到1信道试试, 他按照小明的说法做了, 他朋友的手机果然搜到路由器。于是, 他很困惑, 丈二和尚摸不着头脑, 这是为什么呢？实际原因是他朋友的手机是国外行货, 比如美国货, 不支持12,13信道。

